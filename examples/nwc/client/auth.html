<script type="module">
  import { nwc } from "https://esm.sh/@getalby/sdk@4.0.0"; // jsdelivr.net, skypack.dev also work

  window.launchNwc = async () => {
    try {
      const authUrl = prompt("Auth URL", "https://hub.getalby.com/apps/new");
      const nwcClient = await nwc.NWCClient.fromAuthorizationUrl(authUrl, {
        name: "Deeplink " + Date.now(),
      });
      const result = await nwcClient.getInfo();
      alert("Info response: " + JSON.stringify(result));
    } catch (error) {
      console.error(error);
      alert("Something went wrong: " + error);
    }
  };
</script>

<button onclick="window.launchNwc()">Connect NWC</button>
